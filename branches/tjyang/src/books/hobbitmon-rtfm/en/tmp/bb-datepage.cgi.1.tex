



\chapter{BB-DATEPAGE.CGI}

\section{BB-DATEPAGE.CGI}
 Section: User Commands (1) 
Updated: Version Exp: 11 Jan 2008 
Index Return to Main Contents 
 \section{NAME}
 bb-datepage.cgi - Hobbit CGI script to view pre-built reports by date  \

subsection{SYNOPSIS}

\textbf{bb-datepage.cgi?type=\\{day,week,month\\} --url=URLPREFIX [options]}


  
\section{DESCRIPTION}
\textbf{bb-datepage.cgi}
 is invoked as a CGI script via the bb-datepage.sh CGI wrapper. 

  bb-datepage.cgi is passed a QUERY\_STRING environment variable with the type of time-selection that is desired: Either ``day'', ``week'' or ``month'' can be requested. It will then generate a web form with appropriate day/week/month selection boxes, and based on the users' selection a resulting url is built from the URLPREFIX and the time selection. The browser is then redirected to this URL. 


  The URL is constructed from the URLPREFIX, the type-parameter, the value of the ``pagepath'' or ``host'' cookie, and the users' selection as follows: 


 \begin{description}
\item[type=day] The final URL is \textbf{URLPREFIX/daily/YEAR/MONTH/DAY/PAGEPATH}
. 

 

\item[type=week] The final URL is \textbf{URLPREFIX/weekly/YEAR/WEEK/PAGEPATH}
. 

 

\item[type=month] The final URL is \textbf{URLPREFIX/monthly/YEAR/MONTH/PAGEPATH}
. 

  YEAR is the full year (4 digits, including century). MONTH is the two-digit number of the month (01..12). DAY is the number of the day in the month (01..31). WEEK is the ISO 8601:1988 week-number (01..53). PAGEPATH is the current value of the ``pagepath'' cookie if set; if it is not set but the ``host'' cookie is set, then this host is looked up in the bb-hosts file and the page where this host is found is used for PAGEPATH. These two cookies are set by the default web-header templates supplied with Hobbit. 


 


\end{description}
 
\section{OPTIONS}
\begin{description}
\item[--url=URLPREFIX] This specifies the initial part of the final URL. This option is required. 

 

\item[--hffile=FILENAME] Specifies the template files (from \$BBHOME/web/) to use. The default is ``--hffile=report''. 

 

\item[--color=COLOR] Sets the background color of the generated webpage. The default is blue. 

 

\item[--env=FILENAME] Loads the environment defined in FILENAME before executing the CGI script. 

 

\item[--debug] Enables debugging output. 

 

\item[\$BBHOME/web/report\_form\_daily] HTML form template for the date selection form when type=daily. 

 

\item[\$BBHOME/web/report\_form\_weekly] HTML form template for the date selection form when type=weekly. 

 

\item[\$BBHOME/web/report\_form\_monthly] HTML form template for the date selection form when type=monthly. 

 

\item[\$BBHOME/web/report\_header] HTML header file for the generated web page 

 

\item[\$BBHOME/web/report\_footer] HTML footer file for the generated web page 

 


\end{description}
 \section{ENVIRONMENT VARIABLES}
\begin{description}
\item[BBHOME] Used to locate the template files for the generated web pages. 

 

\item[QUERY\_STRING] Contains the parameters for the CGI script. 

 


\end{description}
 \section{SEE ALSO}
bbgen(1), bb-hosts(5), hobbitserver.cfg(5) 

 


  
 
\section{Index}
\begin{description}
\item[NAME]
\item[SYNOPSIS]
\item[DESCRIPTION]
\item[OPTIONS]
\item[ENVIRONMENT VARIABLES]
\item[SEE ALSO]

\end{description}
 
 This document was created by man2html, using the manual pages. 
 Time: 16:21:47 GMT, January 11, 2008 

